<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Gerenciar Logotipos - Nexonda Admin</title>
    <link rel="icon" href="../images/nexonda/favicon.ico" type="image/x-icon" />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="../images/nexonda/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="../images/nexonda/favicon-16x16.png"
    />
    <link rel="stylesheet" href="../css/styles.css" />
    <link rel="stylesheet" href="../css/manage-logos.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <script type="module" src="../components/user-menu.js"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
    />
    <style>
      .input-with-ai {
        position: relative;
        display: flex;
        align-items: stretch;
      }
      .input-with-ai input,
      .input-with-ai textarea {
        flex: 1;
        border-top-right-radius: 0;
        border-bottom-right-radius: 0;
      }
      .ai-suggest-btn {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border: none;
        padding: 0.875rem 1rem;
        border-radius: 0 8px 8px 0;
        cursor: pointer;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        min-width: 50px;
      }
      .ai-suggest-btn:hover {
        background: linear-gradient(135deg, #5a6fd8 0%, #6a4190 100%);
        transform: translateY(-1px);
      }
      .ai-suggest-btn:active {
        transform: translateY(0);
      }
      .ai-suggest-btn.loading {
        background: #6b7280;
        cursor: not-allowed;
      }
      .ai-suggest-btn.loading i {
        animation: spin 1s linear infinite;
      }
      .ai-suggestions {
        margin-top: 1rem;
        background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
        border: 2px solid #e2e8f0;
        border-radius: 12px;
        overflow: hidden;
        animation: slideDown 0.3s ease-out;
      }
      [data-theme="dark"] .ai-suggestions {
        background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
        border-color: #475569;
      }
      .ai-suggestions-header {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        padding: 1rem;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        font-weight: 600;
      }
      .ai-suggestions-header i {
        font-size: 1.1em;
      }
      .close-suggestions {
        margin-left: auto;
        background: none;
        border: none;
        color: white;
        cursor: pointer;
        padding: 0.25rem;
        border-radius: 4px;
        transition: background 0.2s;
      }
      .close-suggestions:hover {
        background: rgba(255, 255, 255, 0.2);
      }
      .ai-suggestions-content {
        padding: 1rem;
      }
      .suggestion-item {
        margin-bottom: 1rem;
        padding: 1rem;
        background: white;
        border-radius: 8px;
        border-left: 4px solid #667eea;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }
      [data-theme="dark"] .suggestion-item {
        background: #1f2937;
        border-left-color: #667eea;
      }
      .suggestion-label {
        font-weight: 600;
        color: #667eea;
        margin-bottom: 0.5rem;
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }
      .suggestion-text {
        color: var(--text-primary, #111827);
        line-height: 1.5;
        margin-bottom: 0.75rem;
      }
      [data-theme="dark"] .suggestion-text {
        color: var(--text-primary, #f3f3f3);
      }
      .suggestion-tip {
        font-size: 0.875rem;
        color: var(--text-secondary, #6b7280);
        font-style: italic;
        padding: 0.5rem;
        background: var(--surface, #f9fafb);
        border-radius: 4px;
        border-left: 3px solid #fbbf24;
      }
      [data-theme="dark"] .suggestion-tip {
        background: var(--surface, #1f2937);
        color: var(--text-secondary, #9ca3af);
      }
      .suggestion-actions {
        display: flex;
        gap: 0.5rem;
        margin-top: 0.75rem;
      }
      .apply-suggestion-btn {
        background: #10b981;
        color: white;
        border: none;
        padding: 0.5rem 1rem;
        border-radius: 6px;
        cursor: pointer;
        font-size: 0.875rem;
        transition: all 0.2s;
      }
      .apply-suggestion-btn:hover {
        background: #059669;
        transform: translateY(-1px);
      }
      .apply-suggestion-btn:active {
        transform: translateY(0);
      }
      @keyframes slideDown {
        from {
          opacity: 0;
          transform: translateY(-10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }
    </style>
  </head>
  <body>
    <!-- Header Moderno Fixo -->
    <header class="modern-header">
      <nav class="nav-container">
        <div class="nav-brand">
          <a href="../index.html"
            ><img
              src="../images/nexonda/logo_nexonda.svg"
              alt="Nexonda"
              class="brand-logo"
          /></a>
        </div>
        <div
          class="nav-actions"
          style="
            display: flex;
            align-items: center;
            gap: 1.2rem;
            margin-left: auto;
          "
        >
          <div class="dark-mode-toggle">
            <button
              id="dark-mode-btn"
              class="theme-toggle"
              aria-label="Alternar modo escuro"
            >
              <i class="fas fa-moon"></i>
            </button>
          </div>
          <user-menu></user-menu>
        </div>
      </nav>
    </header>

    <main class="main-content manage-logos-main">
      <section class="logo-management">
        <!-- Formulário de cadastro/edição -->
        <aside class="logo-form-container">
          <h2>Adicionar Novo Logotipo</h2>
          <form id="logo-form">
            <div class="form-group">
              <label for="client-name">Razão Social:</label>
              <input type="text" id="client-name" name="client-name" required />
            </div>
            <div class="form-group">
              <label for="client-fantasy-name">Nome Fantasia:</label>
              <input
                type="text"
                id="client-fantasy-name"
                name="client-fantasy-name"
              />
            </div>
            <div class="form-group">
              <label for="client-CNPJ">CNPJ:</label>
              <input
                type="text"
                id="client-CNPJ"
                name="client-CNPJ"
                placeholder="00.000.000/0000-00"
                required
              />
              <span
                id="cnpj-feedback"
                style="color: red; font-size: 0.9em"
              ></span>
            </div>

            <div
              class="form-group"
              style="display: flex; flex-direction: column"
            >
              <label>Permitir mostrar endereço:</label>
              <div style="display: flex; gap: 20px; margin-top: 5px">
                <label style="display: flex; align-items: center; gap: 5px">
                  <input
                    type="radio"
                    id="show-address-true"
                    name="show-address-active"
                    value="true"
                    required
                  />
                  Sim
                </label>

                <label style="display: flex; align-items: center; gap: 5px">
                  <input
                    type="radio"
                    id="show-address-false"
                    name="show-address-active"
                    value="false"
                    required
                  />
                  Não
                </label>
              </div>
            </div>

            <div class="form-group">
              <label for="client-cep">CEP:</label>
              <input
                type="text"
                id="client-cep"
                name="client_cep"
                maxlength="9"
                required
              />
            </div>

            <div class="form-group">
              <label for="client-address">Endereço:</label>
              <input
                type="text"
                id="client-address"
                name="client_address"
                required
              />
            </div>

            <div class="form-group">
              <label for="client-number">Nº:</label>
              <input
                type="text"
                id="client-number"
                name="client_number"
                required
              />
            </div>

            <div class="form-group">
              <label for="client-neighborhood">Bairro:</label>
              <input
                type="text"
                id="client-neighborhood"
                name="client_neighborhood"
                required
              />
            </div>

            <div class="form-group">
              <label for="client-city">Cidade:</label>
              <input type="text" id="client-city" name="client_city" required />
            </div>

            <div class="form-group">
              <label for="client-uf">UF:</label>
              <select id="client-uf" name="client_uf" required>
                <option value="">Selecione</option>
              </select>
            </div>

            <div class="form-group">
              <label for="client-lat">Latitude:</label>
              <input type="text" id="client-lat" name="client_lat" readonly />
            </div>

            <div class="form-group">
              <label for="client-lng">Longitude:</label>
              <input type="text" id="client-lng" name="client_lng" readonly />
            </div>

            <div class="form-group">
              <label for="telephone">Telefone:</label>
              <input
                type="text"
                id="telephone"
                name="telephone"
                placeholder="(XX) XXXX-XXXX"
              />
            </div>

            <div class="form-group">
              <label for="cellphone">Celular:</label>
              <input
                type="text"
                id="cellphone"
                name="cellphone"
                placeholder="(XX) XXXXX-XXXX"
              />
            </div>

            <div class="form-group">
              <label for="email">E-mail:</label>
              <input type="email" id="email" name="email" required />
              <small id="email-error" style="color: red; display: none"
                >E-mail inválido</small
              >
            </div>

            <div class="form-group">
              <label for="client-website">Website:</label>
              <input
                type="url"
                placeholder="ex: https://exemplo.com"
                id="client-website"
                name="client_website"
              />
            </div>

            <div class="form-group">
              <label for="client-videoUrl">
                Url vídeo (youtube ou mp4):
                <span
                  class="info-circle"
                  title="Insira uma URL do YouTube ou um link direto para um arquivo .mp4"
                  >i</span
                >
              </label>
              <input
                type="url"
                placeholder="ex: https://www.youtube.com/seucanal"
                id="client-videoUrl"
                name="client_video_url"
              />
            </div>

            <div class="form-group">
              <label for="client-instagramUrl">Instagram:</label>
              <input
                type="url"
                placeholder="ex: https://www.instagram.com/usuario"
                id="client-instagramUrl"
                name="client_instagram_url"
              />
            </div>

            <div class="form-group">
              <label for="client-facebookUrl">Facebook:</label>
              <input
                type="url"
                placeholder="ex: https://www.facebook.com/usuario"
                id="client-facebookUrl"
                name="client-facebookUrl"
              />
            </div>

            <div class="form-group">
              <label for="client-whatsapp">WhatsApp:</label>
              <input
                type="text"
                id="client-whatsapp"
                name="client-whatsapp"
                placeholder="(XX) XXXXX-XXXX"
              />
            </div>

            <div class="form-group">
              <label for="logo-category">Categoria:</label>
              <select id="logo-category" name="logo_category" required>
                <option value="">Selecione uma categoria</option>
              </select>
            </div>

            <div class="form-group">
              <label for="logo-description">Descrição:</label>
              <textarea
                id="logo-description"
                name="logo_description"
              ></textarea>
            </div>

            <!-- Data Inicial -->
            <div class="form-group">
              <label for="start-date">Contrato - Data Inicial::</label>
              <input type="date" id="start-date" name="start_date" required />
            </div>

            <!-- Seletor de Meses -->
            <div class="form-group">
              <label for="contract-months">Tempo de Contrato:</label>
              <select id="contract-months" name="contract_months" required>
                <option value="">Selecione</option>
                <option value="6">6 meses</option>
                <option value="12">12 meses</option>
                <option value="24">24 meses</option>
                <option value="36">36 meses</option>
              </select>
            </div>

            <!-- Data Final -->
            <div class="form-group">
              <label for="end-date">Contrato - Data Final:</label>
              <input type="date" id="end-date" name="end_date" readonly />
            </div>

            <div class="form-group">
              <label for="plan_type">Tipo de plano:</label>
              <select id="plan_type" name="plan_type" required>
                <option value="">Selecione</option>
                <option value="basico">Basico</option>
                <option value="premium">Premium</option>
                <option value="premium-plus">Premium Plus</option>
              </select>
            </div>

            <div class="form-group">
              <label for="client_level">Nível do cliente (0 a 10):</label>
              <select id="client_level" name="client_level" required>
                <option value="">Selecione</option>
                <!-- Gerando opções de 0 a 10 -->
                <option value="0">0</option>
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
                <option value="6">6</option>
                <option value="7">7</option>
                <option value="8">8</option>
                <option value="9">9</option>
                <option value="10">10</option>
              </select>
            </div>

            <div class="form-group">
              <label for="contract_value">Valor do Contrato:</label>
              <input
                type="text"
                id="contract_value"
                name="contract_value"
                required
                value="0,00"
              />
            </div>

            <div
              class="form-group"
              style="display: flex; flex-direction: column"
            >
              <label>Ativo:</label>
              <div style="display: flex; gap: 20px; margin-top: 5px">
                <label style="display: flex; align-items: center; gap: 5px">
                  <input
                    type="radio"
                    id="ativo-true"
                    name="contract-active"
                    value="true"
                    required
                  />
                  Sim
                </label>

                <label style="display: flex; align-items: center; gap: 5px">
                  <input
                    type="radio"
                    id="ativo-false"
                    name="contract-active"
                    value="false"
                    required
                  />
                  Não
                </label>
              </div>
            </div>

            <div class="form-group">
              <label for="logo-image">Imagem do Logotipo:</label>
              <button type="button" id="btn-upload-image">
                Selecionar Imagem
              </button>
              <input
                type="text"
                id="logo-image-url"
                name="logo_image_url"
                readonly
                placeholder="URL da imagem será exibida aqui"
              />
              <small
                >Formatos aceitos: JPG, PNG, SVG. Tamanho máximo: 2MB.</small
              >
              <!-- 🔽 Pré-visualização da imagem -->
              <img
                id="logo-preview_img"
                src=""
                alt="Pré-visualização do logotipo"
                style="
                  display: none;
                  max-width: 100px;
                  margin-top: 10px;
                  border: 1px solid #ccc;
                  border-radius: 4px;
                "
              />
            </div>
            <input
              type="file"
              id="logo-image"
              name="logo-image"
              accept="image/*"
              style="display: none"
            />

            <div>
              <h3>Horário de Funcionamento:</h3>
              <div id="opening-hours-container">
                <!-- Loop para cada dia da semana -->
                <!-- Use o mesmo padrão abaixo para cada dia -->

                <!-- Segunda -->
                <div class="opening-day" data-day="monday">
                  <div class="day-header">
                    <span>Segunda-feira</span>
                    <label class="closed-label">
                      <input
                        type="checkbox"
                        id="monday-closed"
                        name="monday_closed"
                      />
                      Fechado
                    </label>
                  </div>
                  <div class="day-inputs">
                    <div class="time-group">
                      <label for="monday-start">Início</label>
                      <input
                        type="time"
                        id="monday-start"
                        name="monday_start"
                      />
                    </div>
                    <div class="time-group">
                      <label for="monday-lunch-start">Intervalo</label>
                      <input
                        type="time"
                        id="monday-lunch-start"
                        name="monday_lunch_start"
                      />
                    </div>
                    <div class="time-group">
                      <label for="monday-lunch-end">Retorno</label>
                      <input
                        type="time"
                        id="monday-lunch-end"
                        name="monday_lunch_end"
                      />
                    </div>
                    <div class="time-group">
                      <label for="monday-end">Fim</label>
                      <input type="time" id="monday-end" name="monday_end" />
                    </div>
                  </div>
                </div>

                <!-- Terça -->
                <div class="opening-day" data-day="tuesday">
                  <div class="day-header">
                    <span>Terça-feira</span>
                    <label class="closed-label">
                      <input
                        type="checkbox"
                        id="tuesday-closed"
                        name="tuesday_closed"
                      />
                      Fechado
                    </label>
                  </div>
                  <div class="day-inputs">
                    <div class="time-group">
                      <label for="tuesday-start">Início</label>
                      <input
                        type="time"
                        id="tuesday-start"
                        name="tuesday_start"
                      />
                    </div>
                    <div class="time-group">
                      <label for="tuesday-lunch-start">Intervalo</label>
                      <input
                        type="time"
                        id="tuesday-lunch-start"
                        name="tuesday_lunch_start"
                      />
                    </div>
                    <div class="time-group">
                      <label for="tuesday-lunch-end">Retorno</label>
                      <input
                        type="time"
                        id="tuesday-lunch-end"
                        name="tuesday_lunch_end"
                      />
                    </div>
                    <div class="time-group">
                      <label for="tuesday-end">Fim</label>
                      <input type="time" id="tuesday-end" name="tuesday_end" />
                    </div>
                  </div>
                </div>

                <!-- Quarta -->
                <div class="opening-day" data-day="wednesday">
                  <div class="day-header">
                    <span>Quarta-feira</span>
                    <label class="closed-label">
                      <input
                        type="checkbox"
                        id="wednesday-closed"
                        name="wednesday_closed"
                      />
                      Fechado
                    </label>
                  </div>
                  <div class="day-inputs">
                    <div class="time-group">
                      <label for="wednesday-start">Início</label>
                      <input
                        type="time"
                        id="wednesday-start"
                        name="wednesday_start"
                      />
                    </div>
                    <div class="time-group">
                      <label for="wednesday-lunch-start">Intervalo</label>
                      <input
                        type="time"
                        id="wednesday-lunch-start"
                        name="wednesday_lunch_start"
                      />
                    </div>
                    <div class="time-group">
                      <label for="wednesday-lunch-end">Retorno</label>
                      <input
                        type="time"
                        id="wednesday-lunch-end"
                        name="wednesday_lunch_end"
                      />
                    </div>
                    <div class="time-group">
                      <label for="wednesday-end">Fim</label>
                      <input
                        type="time"
                        id="wednesday-end"
                        name="wednesday_end"
                      />
                    </div>
                  </div>
                </div>

                <!-- Quinta -->
                <div class="opening-day" data-day="thursday">
                  <div class="day-header">
                    <span>Quinta-feira</span>
                    <label class="closed-label">
                      <input
                        type="checkbox"
                        id="thursday-closed"
                        name="thursday_closed"
                      />
                      Fechado
                    </label>
                  </div>
                  <div class="day-inputs">
                    <div class="time-group">
                      <label for="thursday-start">Início</label>
                      <input
                        type="time"
                        id="thursday-start"
                        name="thursday_start"
                      />
                    </div>
                    <div class="time-group">
                      <label for="thursday-lunch-start">Intervalo</label>
                      <input
                        type="time"
                        id="thursday-lunch-start"
                        name="thursday_lunch_start"
                      />
                    </div>
                    <div class="time-group">
                      <label for="thursday-lunch-end">Retorno</label>
                      <input
                        type="time"
                        id="thursday-lunch-end"
                        name="thursday_lunch_end"
                      />
                    </div>
                    <div class="time-group">
                      <label for="thursday-end">Fim</label>
                      <input
                        type="time"
                        id="thursday-end"
                        name="thursday_end"
                      />
                    </div>
                  </div>
                </div>

                <!-- Sexta -->
                <div class="opening-day" data-day="friday">
                  <div class="day-header">
                    <span>Sexta-feira</span>
                    <label class="closed-label">
                      <input
                        type="checkbox"
                        id="friday-closed"
                        name="friday_closed"
                      />
                      Fechado
                    </label>
                  </div>
                  <div class="day-inputs">
                    <div class="time-group">
                      <label for="friday-start">Início</label>
                      <input
                        type="time"
                        id="friday-start"
                        name="friday_start"
                      />
                    </div>
                    <div class="time-group">
                      <label for="friday-lunch-start">Intervalo</label>
                      <input
                        type="time"
                        id="friday-lunch-start"
                        name="friday_lunch_start"
                      />
                    </div>
                    <div class="time-group">
                      <label for="friday-lunch-end">Retorno</label>
                      <input
                        type="time"
                        id="friday-lunch-end"
                        name="friday_lunch_end"
                      />
                    </div>
                    <div class="time-group">
                      <label for="friday-end">Fim</label>
                      <input type="time" id="friday-end" name="friday_end" />
                    </div>
                  </div>
                </div>

                <!-- Sábado -->
                <div class="opening-day" data-day="saturday">
                  <div class="day-header">
                    <span>Sábado</span>
                    <label class="closed-label">
                      <input
                        type="checkbox"
                        id="saturday-closed"
                        name="saturday_closed"
                      />
                      Fechado
                    </label>
                  </div>
                  <div class="day-inputs">
                    <div class="time-group">
                      <label for="saturday-start">Início</label>
                      <input
                        type="time"
                        id="saturday-start"
                        name="saturday_start"
                      />
                    </div>
                    <div class="time-group">
                      <label for="saturday-lunch-start">Intervalo</label>
                      <input
                        type="time"
                        id="saturday-lunch-start"
                        name="saturday_lunch_start"
                      />
                    </div>
                    <div class="time-group">
                      <label for="saturday-lunch-end">Retorno</label>
                      <input
                        type="time"
                        id="saturday-lunch-end"
                        name="saturday_lunch_end"
                      />
                    </div>
                    <div class="time-group">
                      <label for="saturday-end">Fim</label>
                      <input
                        type="time"
                        id="saturday-end"
                        name="saturday_end"
                      />
                    </div>
                  </div>
                </div>

                <!-- Domingo -->
                <div class="opening-day" data-day="sunday">
                  <div class="day-header">
                    <span>Domingo</span>
                    <label class="closed-label">
                      <input
                        type="checkbox"
                        id="sunday-closed"
                        name="sunday_closed"
                      />
                      Fechado
                    </label>
                  </div>
                  <div class="day-inputs">
                    <div class="time-group">
                      <label for="sunday-start">Início</label>
                      <input
                        type="time"
                        id="sunday-start"
                        name="sunday_start"
                      />
                    </div>
                    <div class="time-group">
                      <label for="sunday-lunch-start">Intervalo</label>
                      <input
                        type="time"
                        id="sunday-lunch-start"
                        name="sunday_lunch_start"
                      />
                    </div>
                    <div class="time-group">
                      <label for="sunday-lunch-end">Retorno</label>
                      <input
                        type="time"
                        id="sunday-lunch-end"
                        name="sunday_lunch_end"
                      />
                    </div>
                    <div class="time-group">
                      <label for="sunday-end">Fim</label>
                      <input type="time" id="sunday-end" name="sunday_end" />
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="form-actions">
              <!-- <button type="submit" class="save-btn">Salvar</button> -->
              <button type="submit" class="save-btn">
                <span class="btn-text">Salvar</span>
                <span class="spinner hidden"></span>
              </button>

              <button type="reset" id="btn-cancelar" class="cancel-btn">
                Cancelar
              </button>
              <!-- <button type="button" id="cancel-button" style="display: none">
                Cancelar Edição
              </button> -->
            </div>
          </form>
        </aside>
        <!-- Lista de logotipos -->
        <section class="logos-list">
          <h2>Logotipos Cadastrados</h2>
          <!-- Filtros e busca -->
          <div class="search-filter">
            <input
              type="text"
              id="search-input"
              placeholder="Buscar por nome..."
            />
            <select id="filter-category">
              <option value="">Todas as Categorias</option>
            </select>
          </div>
          <!-- Grid de cards de logotipos -->
          <div class="logos-grid" id="logos-grid">
            <!-- ...cards de logotipos originais... -->
          </div>
        </section>
      </section>

      <!-- Seção de Propagandas Premium -->
      <div class="admin-section">
        <h2><i class="fas fa-ad"></i> Cadastrar Nova Propaganda Premium</h2>
        <form id="ad-form">
          <div class="form-section">
            <h3><i class="fas fa-info-circle"></i> Informações Básicas</h3>

            <div class="form-row">
              <div class="form-group">
                <label for="ad-title">Título da Propaganda*</label>
                <div class="input-with-ai">
                  <input
                    type="text"
                    id="ad-title"
                    name="title"
                    required
                    placeholder="Ex: Oferta Especial de Verão"
                  />
                  <button
                    type="button"
                    class="ai-suggest-btn"
                    id="ai-title-btn-direct"
                    title="Sugerir melhorias com IA"
                    onclick="suggestTitleImprovements()"
                  >
                    <i class="fas fa-magic"></i>
                  </button>
                </div>
              </div>

              <div class="form-group">
                <label for="ad-client">Cliente Premium*</label>
                <select id="ad-client" name="clientCNPJ" required>
                  <option value="">Selecione um cliente</option>
                </select>
              </div>
            </div>

            <div class="form-group">
              <label for="ad-description">Descrição*</label>
              <div class="input-with-ai">
                <textarea
                  id="ad-description"
                  name="description"
                  required
                  placeholder="Descreva a promoção ou campanha"
                  rows="3"
                ></textarea>
                <button
                  type="button"
                  class="ai-suggest-btn"
                  id="ai-description-btn-direct"
                  title="Sugerir melhorias com IA"
                  onclick="suggestDescriptionImprovements()"
                >
                  <i class="fas fa-magic"></i>
                </button>
              </div>
            </div>

            <!-- Container para sugestões da IA -->
            <div
              id="ai-suggestions-container"
              class="ai-suggestions"
              style="display: none"
            >
              <div class="ai-suggestions-header">
                <i class="fas fa-robot"></i>
                <span>Sugestões da IA</span>
                <button
                  type="button"
                  class="close-suggestions"
                  onclick="closeAISuggestions()"
                >
                  <i class="fas fa-times"></i>
                </button>
              </div>
              <div id="ai-suggestions-content" class="ai-suggestions-content">
                <!-- Sugestões serão inseridas aqui -->
              </div>
            </div>
          </div>

          <div class="form-row">
            <!-- Pré-visualização no topo -->
            <div class="form-group media-preview-wrapper">
              <div id="media-preview" style="margin-bottom: 12px">
                <img
                  src="https://res.cloudinary.com/dmq4e5bm5/image/upload/v1750349719/s78wcjfu4qcygbaoftsk.png"
                  alt="Pré-visualização da imagem"
                  style="max-width: 300px; border-radius: 8px"
                />
              </div>

              <div
                id="upload-loading"
                style="display: none; text-align: center; margin: 10px 0"
              >
                ⏳ Aguarde, carregando mídia...
              </div>
            </div>

            <div class="form-group">
              <label for="ad-type">Tipo de Mídia*</label>
              <select id="ad-type" name="mediaType" required>
                <option value="image">Imagem (Banner)</option>
                <option value="video">Vídeo</option>
              </select>
            </div>

            <div class="form-group">
              <label for="ad-upload">Arquivo da Mídia*</label>
              <input
                type="file"
                id="ad-upload"
                name="mediaFile"
                accept="image/*,video/*"
              />
              <small class="hint">Suporta imagens ou vídeos .mp4</small>
            </div>

            <div class="form-group" style="position: relative">
              <label for="ad-media">URL da Mídia*</label>
              <textarea
                id="ad-media"
                name="mediaUrl"
                required
                readonly
                placeholder="https://res.cloudinary.com/..."
                rows="2"
                style="width: 100%; resize: none; padding-right: 70px"
              ></textarea>

              <button
                type="button"
                id="copy-button"
                class="copy-button"
                title="Copiar URL"
                aria-label="Copiar URL"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke="currentColor"
                  stroke-width="2"
                  width="20"
                  height="20"
                  style="color: #007bff"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M9 12h6m-6 4h6m2 4H7a2 2 0 01-2-2V7a2 2 0 012-2h3.5l1-1h3l1 1H17a2 2 0 012 2v11a2 2 0 01-2 2z"
                  />
                </svg>
              </button>

              <small class="hint">URL gerada após upload</small>
            </div>
          </div>

          <div class="form-group">
            <label for="ad-link">Link de Destino*</label>
            <input
              type="url"
              id="ad-link"
              name="targetUrl"
              required
              placeholder="https://exemplo.com/promocao"
            />
            <small class="hint"
              >Página para onde o usuário será direcionado ao clicar</small
            >
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="ad-start-date">Data de Início*</label>
              <input type="date" id="ad-start-date" name="startDate" required />
            </div>

            <div class="form-group">
              <label for="ad-end-date">Data de Término*</label>
              <input type="date" id="ad-end-date" name="endDate" required />
            </div>
          </div>

          <div class="form-actions">
            <button type="submit" class="save-btn">
              <i class="fas fa-save"></i> Salvar Propaganda
            </button>
            <button type="reset" id="ad-btn-cancelar" class="cancel-btn">
              <i class="fas fa-times"></i> Limpar
            </button>
          </div>
        </form>
      </div>

      <!-- Lista de Propagandas Cadastradas -->
      <div class="admin-section">
        <h2><i class="fas fa-list"></i> Propagandas Cadastradas</h2>
        <div class="ads-controls">
          <div class="search-filter">
            <input
              type="text"
              id="ad-search-input"
              placeholder="Buscar propagandas..."
            />
            <select id="ad-filter-status">
              <option value="all">Todas</option>
              <option value="active">Ativas</option>
              <option value="inactive">Inativas</option>
              <option value="upcoming">Futuras</option>
              <option value="expired">Expiradas</option>
            </select>
          </div>
        </div>
        <div class="premium-ads-list" id="premium-ads-list">
          <!-- As propagandas serão carregadas aqui -->
        </div>
      </div>
    </main>

    <!-- Substituir o footer antigo pelo novo componente reutilizável -->
    <div id="footer-placeholder"></div>
    <link rel="stylesheet" href="/css/footer.css" />
    <script src="/js/load-footer.js"></script>

    <!-- Modal de Confirmação de Exclusão -->
    <div id="delete-modal" class="modal hidden">
      <div class="modal-content">
        <h2>Confirmar Exclusão</h2>
        <p>Tem certeza que deseja excluir este logotipo?</p>
        <div class="modal-actions">
          <button id="confirm-delete" class="btn confirm">Excluir</button>
          <button id="cancel-delete" class="btn cancel">Cancelar</button>
        </div>
      </div>
    </div>

    <!-- Modal Vídeo -->
    <div id="youtube-overlay" class="d-none"></div>
    <div id="youtube-modal" class="d-none">
      <div id="youtube-player"></div>
      <button
        class="close-btn"
        onclick="closeYouTubePlayer()"
        aria-label="Fechar vídeo"
      >
        X
      </button>
    </div>

    <!-- Scripts -->
    <!-- jQuery (necessário para Select2) -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link
      href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
    <script type="module" src="../js/main.js"></script>
    <script type="module" src="../js/manage-logos.js"></script>
    <script type="module" src="../js/manage-advertising.js"></script>
    <script src="../js/advertising-ai.js"></script>
  </body>
</html>
